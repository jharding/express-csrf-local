[![build status](https://secure.travis-ci.org/jharding/express-csrf-local.png)](http://travis-ci.org/jharding/express-csrf-local)
express-csrf-local
==================

> [Express][express] middleware for including the token generated by [Connect's][connect] CSRF middleware in the locals object for templates.

[express]: http://www.expressjs.com
[connect]: http://www.senchalabs.org/connect

Installation
------------

```
npm install express-csrf-local
```

Usage
-----

```javascript
var express = require('express');
var app = express();

app.configure(function() {
  // configurations
  // ...
  app.use(express.csrf());
  app.use(require('express-csrf-local')('csrf_token'));
  // ...
});
```

The string argument `express-csrf-local` is invoked with is the name of the local that will be contain the CSRF token. This argument is optional and if it's not provided, the name of the local will default to `token`.

Be sure to register the CSRF middleware before registering the middleware provided by `express-csrf-token`, otherwise you'll run into issues.

Testing
-------

```
npm install
npm test
```

Issues
------

Found a bug? Create an issue on GitHub.

https://github.com/jharding/express-csrf-local/issues

Versioning
----------

For transparency and insight into the release cycle, releases will be numbered with the follow format:

`<major>.<minor>.<patch>`

And constructed with the following guidelines:

* Breaking backwards compatibility bumps the major
* New additions without breaking backwards compatibility bumps the minor
* Bug fixes and misc changes bump the patch

For more information on semantic versioning, please visit http://semver.org/.

License
-------

Copyright (c) 2012 [Jake Harding](http://thejakeharding.com)  
Licensed under the MIT License.
